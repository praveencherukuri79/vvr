<!-- <div class="only-print px-10" *ngIf="invoiceHeader">
  <ng-container *ngFor="let content of invoiceHeader">
    <div [innerHtml]="content" class="invoice-content"></div>
  </ng-container>
</div> -->

<div class="print-window px-10 no-print">
  <!-- <button mat-raised-button color="primary" (click)="printWindow()" matTooltip="use A3 size and landsacpe view">
    <mat-icon fontIcon="print"></mat-icon> Print</button> -->
  <button mat-raised-button color="primary" (click)="savePdfModal()" matTooltip="Save Or Print invoice">
    <mat-icon fontIcon="download"></mat-icon> Save</button>
</div>

<!-- [class.hidden]="!dataSource" -->

<div class="example-container mat-elevation-z8" [class.hidden]="!dataSource">

  <form [formGroup]="inputForm" class="input-form">
    <ng-container *ngFor="let filter of searchFilters">
      <mat-form-field class="no-print">
        <mat-label>{{filter.label}}</mat-label>
        <mat-select (selectionChange)="onSelectFilter($event.value, filter.name)"
          [(value)]="filter.matSelectDefaultValue">
          <!-- <mat-option> <input #matInputSearch matInput [formControlName]="filter.name"
              placeholder="{{filter.placeHolder}}" [(ngModel)]="filter.inputValue"></mat-option> -->
          <div class="search-input-flex">
            <input #matInputSearch matInput [formControlName]="filter.name" placeholder="{{filter.placeHolder}}"
              [(ngModel)]="filter.inputValue">
            <button mat-raised-button color="primary"
              (click)="filter.inputValue = '';filter.matSelectDefaultValue='';onSelectFilter(null, filter.name)">{{filter.defaultValue}}</button>
          </div>
          <!-- <input #matInputSearch matInput [formControlName]="filter.name"
            placeholder="{{filter.placeHolder}}" [(ngModel)]="filter.inputValue">
          <mat-option (click)="filter.inputValue = ''" class="reset-mat-option">{{filter.defaultValue}}</mat-option> -->
          <mat-option *ngFor="let item of filter.data" [value]="item">{{item}}</mat-option>
        </mat-select>
      </mat-form-field>
    </ng-container>
  </form>
  <!-- (keyup)="onSearchFilter($event, filter.name)"  (input)="onSearchFilter($event, filter.name)"-->

  <!-- <mat-form-field class="no-print">
    <mat-label>Filter by Index Number</mat-label>
    <input matInput (keyup)="applyFilter($event, 'INDEX_NUM')" placeholder="Index Number">
  </mat-form-field>

  <mat-form-field class="no-print">
    <mat-label>Filter by Name</mat-label>
    <input matInput (keyup)="applyFilter($event, 'NAME')" placeholder="Name">
  </mat-form-field>

  <mat-form-field class="no-print">
    <mat-label>Filter by Item Description</mat-label>
    <input matInput (keyup)="applyFilter($event, 'ITEM_DESC')" placeholder="Item Description">
  </mat-form-field> -->

  <!--MAT TABLE 1-->
  <mat-table id="vvr-mat-table" [dataSource]="dataSource" matSort matSortDirection="asc" matSortActive="indexNumber"
    matSortDisableClear [trackBy]="trackBy">

    <ng-container *ngFor="let column of displayedColumns">
      <ng-container [matColumnDef]="column">
        <mat-header-cell *matHeaderCellDef [mat-sort-header]="column">{{displayNames[column]}} </mat-header-cell>
        <mat-cell *matCellDef="let element"><span class="mobile-label">{{displayNames[column]}}:</span>
          {{currencyFields.indexOf(column) !== -1 ? (element[column] | currency :'INR') : element[column]}} </mat-cell>
        <mat-footer-cell *matFooterCellDef> {{column == 'NAME' ? 'Total' : currencyFields.indexOf(column) !== -1 ?
          (getTotal(column) | currency :'INR') : getTotal(column)}} </mat-footer-cell>
      </ng-container>
    </ng-container>

    <mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns; let i=index" [ngClass]="i % 2 == 0 ? 'item-even':'item-odd'"></mat-row>
    <mat-footer-row *matFooterRowDef="displayedColumns; sticky: true"></mat-footer-row>
  </mat-table>
  <mat-paginator [pageSizeOptions]="[10, 50, 100, 500]" [pageSize]="50" aria-label="Select page of mstc data"
    showFirstLastButtons></mat-paginator>

  <!--MAT TABLE 1-->

  <!--MAT TABLE 2-->
  <!-- <table mat-table id="vvr-mat-table" [dataSource]="dataSource" matSort matSortDirection="asc" matSortActive="indexNumber"
    matSortDisableClear>

    <ng-container *ngFor="let column of displayedColumns">
      <ng-container [matColumnDef]="column">
        <th mat-header-cell *matHeaderCellDef [mat-sort-header]="column"> {{displayNames[column]}} </th>
        <td mat-cell *matCellDef="let element"><span class="mobile-label">{{displayNames[column]}}:</span>
          {{element[column]}} </td>
        <td mat-footer-cell *matFooterCellDef> {{column == 'NAME' ? 'Total' : getTotal(column)}} </td>
      </ng-container>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    <tr mat-footer-row *matFooterRowDef="displayedColumns; sticky: true"></tr>
  </table> -->
  <!--MAT TABLE 2-->

  <!-- <table mat-table #table [dataSource]="dataSource" matSort matSortDirection="asc" matSortActive="indexNumber"
    matSortDisableClear>

    <ng-container *ngFor="let column of displayedColumns">
      <ng-container [matColumnDef]="column">
        <th mat-header-cell *matHeaderCellDef [mat-sort-header]="column"> {{displayNames[column]}} </th>
        <td mat-cell *matCellDef="let element"><span class="mobile-label">{{displayNames[column]}}:</span>
          {{element[column]}} </td>
        <td mat-footer-cell *matFooterCellDef> {{column == 'NAME' ? 'Total' : getTotal(column)}} </td>
      </ng-container>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    <tr mat-footer-row *matFooterRowDef="displayedColumns; sticky: true"></tr>
  </table> -->
</div>

<!-- <div class="only-print px-10 invoice-footer" *ngIf="invoiceFooter">
  <ng-container *ngFor="let content of invoiceFooter">
    <div [innerHtml]="content" class="invoice-content"></div>
  </ng-container>
</div> -->